{"ast":null,"code":"// Requiring modules\nconst express = require('express');\n\nconst app = express();\n\nconst mssql = require(\"mysql\"); // Get request\n\n\napp.get('/', function (req, res) {\n  // Config your database credential\n  const config = {\n    user: 'root',\n    password: 'senior1234',\n    server: 'localhost',\n    database: 'senior_web'\n  }; // Connect to your database\n\n  mssql.connect(config, function (err) {\n    // Create Request object to perform\n    // query operation\n    var request = new mssql.Request(); // Query to the database and get the records\n\n    request.query('select * from bus_info', function (err, records) {\n      if (err) console.log(err); // Send records as a response\n      // to browser\n\n      res.send(records);\n    });\n  });\n});\nvar server = app.listen(5000, function () {\n  console.log('Server is listening at port 5000...');\n});","map":{"version":3,"names":["express","require","app","mssql","get","req","res","config","user","password","server","database","connect","err","request","Request","query","records","console","log","send","listen"],"sources":["D:/siit/Y4S1/senior_project/web_practice1/my-app/src/database.js"],"sourcesContent":["// Requiring modules\r\nconst express = require('express');\r\nconst app = express();\r\nconst mssql = require(\"mysql\");\r\n \r\n// Get request\r\napp.get('/', function (req, res) {\r\n \r\n    // Config your database credential\r\n    const config = {\r\n        user: 'root',\r\n        password: 'senior1234',\r\n        server: 'localhost',\r\n        database: 'senior_web'\r\n    };\r\n \r\n    // Connect to your database\r\n    mssql.connect(config, function (err) {\r\n \r\n        // Create Request object to perform\r\n        // query operation\r\n        var request = new mssql.Request();\r\n \r\n        // Query to the database and get the records\r\n        request.query('select * from bus_info',\r\n            function (err, records) {\r\n \r\n                if (err) console.log(err)\r\n \r\n                // Send records as a response\r\n                // to browser\r\n                res.send(records);\r\n \r\n            });\r\n    });\r\n});\r\n \r\nvar server = app.listen(5000, function () {\r\n    console.log('Server is listening at port 5000...');\r\n});"],"mappings":"AAAA;AACA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,GAAG,GAAGF,OAAO,EAAnB;;AACA,MAAMG,KAAK,GAAGF,OAAO,CAAC,OAAD,CAArB,C,CAEA;;;AACAC,GAAG,CAACE,GAAJ,CAAQ,GAAR,EAAa,UAAUC,GAAV,EAAeC,GAAf,EAAoB;EAE7B;EACA,MAAMC,MAAM,GAAG;IACXC,IAAI,EAAE,MADK;IAEXC,QAAQ,EAAE,YAFC;IAGXC,MAAM,EAAE,WAHG;IAIXC,QAAQ,EAAE;EAJC,CAAf,CAH6B,CAU7B;;EACAR,KAAK,CAACS,OAAN,CAAcL,MAAd,EAAsB,UAAUM,GAAV,EAAe;IAEjC;IACA;IACA,IAAIC,OAAO,GAAG,IAAIX,KAAK,CAACY,OAAV,EAAd,CAJiC,CAMjC;;IACAD,OAAO,CAACE,KAAR,CAAc,wBAAd,EACI,UAAUH,GAAV,EAAeI,OAAf,EAAwB;MAEpB,IAAIJ,GAAJ,EAASK,OAAO,CAACC,GAAR,CAAYN,GAAZ,EAFW,CAIpB;MACA;;MACAP,GAAG,CAACc,IAAJ,CAASH,OAAT;IAEH,CATL;EAUH,CAjBD;AAkBH,CA7BD;AA+BA,IAAIP,MAAM,GAAGR,GAAG,CAACmB,MAAJ,CAAW,IAAX,EAAiB,YAAY;EACtCH,OAAO,CAACC,GAAR,CAAY,qCAAZ;AACH,CAFY,CAAb"},"metadata":{},"sourceType":"module"}